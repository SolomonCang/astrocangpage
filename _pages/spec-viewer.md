---
layout: page
title: Spectrum Viewer
permalink: /miniTools/spectrum-viewer/
description: "An interactive tool for viewing and analyzing spectral data."
nav: false
nav_order: 7
---

<!-- Include Plotly.js library -->
<!-- <script src="{{ '/assets/js/plotly-3.1.2.min.js' | relative_url }}"></script> -->
<script src="https://cdn.plot.ly/plotly-3.1.0.min.js" charset="utf-8"></script>

<!-- Include custom CSS and JS files -->
<link rel="stylesheet" href="{{ '/assets/css/spectrum-viewer.css' | relative_url }}">
<script src="{{ '/assets/js/miniTools/spectrum-viewer.js' | relative_url }}" defer></script>

<!-- Page HTML structure -->
<div class="spectrum-viewer-container">
    <h2>Upload Spectrum Data from the <a href='https://www.polarbase.ovgso.fr'>Polarbase</a></h2>

    <!-- Upload area -->
    <div class="control-group">
        <label for="upload-data">Drag/select files to upload:</label>
        <div id="upload-box" class="upload-box">
            Drag files here, or <a>click to select files</a>
        </div>
        <input type="file" id="upload-data" style="display: none;">
    </div>

    <!-- File type selection -->
    <div class="control-group">
        <label>File Type:</label>
        <div id="file-type-radios" class="radio-group">
            <div><input type="radio" id="type-auto" name="file-type" value="auto" checked> <label for="type-auto">Auto Detect</label></div>
            <div><input type="radio" id="type-spec-pol" name="file-type" value="spec_pol"> <label for="type-spec-pol">Spec (pol)</label></div>
            <div><input type="radio" id="type-spec-i" name="file-type" value="spec_i"> <label for="type-spec-i">Spec (I)</label></div>
            <div><input type="radio" id="type-lsd-pol" name="file-type" value="lsd_pol"> <label for="type-lsd-pol">LSD (pol)</label></div>
            <div><input type="radio" id="lsd_i" name="file-type" value="lsd_i"> <label for="lsd_i">LSD (I)</label></div>
        </div>
    </div>

    <!-- Detection result -->
    <div class="control-group info-group">
        <span>Detected/Adopted Data Type: </span>
        <strong id="resolved-type">No data loaded</strong>
    </div>

    <!-- Control parameters -->
    <div class="control-group-inline">
        <div class="input-group">
            <label for="wl0-input">Zero-point wl0 (nm):</label>
            <input type="number" id="wl0-input" value="656.28" step="0.01">
        </div>
        <div class="input-group">
            <label for="vel-range">Velocity Range Â± (km/s):</label>
            <input type="number" id="vel-range" value="200">
        </div>
    </div>

    <!-- Spectral line buttons -->
    <div id="line-buttons-container" class="control-group">
        <!-- Buttons will be dynamically generated by JS -->
    </div>

    <!-- Column selection -->
    <div class="control-group">
        <label>Select columns to display:</label>
        <div id="col-checklist" class="checklist-group">
            <small>Please upload a file first.</small>
        </div>
    </div>

    <!-- Chart container -->
    <div id="spectrum-figure"></div>

</div>